
*** Settings ***
| Documentation 	| Verify that the Connect to Source step (Step 2) of the Integration Point creation process shows the correct fields and data when using FTP.
| Metadata			| Authors	| Daniel Oliver	| William Sehy
| Force Tags		| in-progress	| team.game_of_holds	| feature.integration_points
| Suite Setup		| Open and Log in to Legal Hold
| Test Setup		| Go to Step 2 of the Create Integration Point Process
| Test Teardown 	| Capture Screenshot If Test Fails
| Suite Teardown	| Close All Browsers


*** Variables ***

| ${WorkspaceName}		| LDAP Sync
| ${Protocol Dropdown}	| s2id_protocol


*** Test Cases ***

| The Source Connection section's fields are in the correct order
| | [Documentation]	| Verify that the fields in the Source Connection section are sorted correctly.
| | ...				| 
| | [Tags]			| manual
| | Run the following manual steps:
| | ... | Expected Results:
| | ... | Verify that the Card contains the following fields:
| | ... | - Host
| | ... | - Protocol
| | ... | - Port
| | ... | - Username
| | ... | - Password
| | ... | - CSV Filepath


| The correct fields have the Required Field Indicator
| | [Documentation]	| Verify that the Required Field indicator is present for the correct fields.
| | ...				| 
| | [Tags]			| manual
| | Run the following manual steps:
| | ... | Expected Results:
| | ... | 1. Verify that the Following Fields are Required:
| | ... | - Host:
| | ... | - Protocol:
| | ... | - CSV Filepath:
| | ... | 2. Verify that the Following Fields are not Required:
| | ... | - Port:
| | ... | - Username:
| | ... | - Password:


| The Protocol list's default value is FTP
| | [Documentation]	| Verify that the Protocol Field's default value is "FTP".
| | ...				| 
| | [Tags]			| automated
| | Wait for then Select iFrame	| id=configurationFrame	| 10s	| The page was not on Step 2 of the Integration Point form.
| | Verify that the following select2 Dropdown currently has the following value selected	| ${Protocol Dropdown}	| FTP


| The Protocol list has the correct values
| | [Documentation]	| Verify that the Protocol List has the correct options.
| | ...				| 
| | [Tags]			| automated
| | Wait for then Select iFrame	| id=configurationFrame	| 10s	| The page was not on Step 2 of the Integration Point form.
| | Click	| ${Protocol Dropdown}
| | Verify that the currently opened select2 Dropdown has the following choices in order	| 
| | ... | FTP
| | ... | SFTP


| The Port Field's default value is 21 for FTP
| | [Documentation]	| Verify that the The Port Field's default value is 21 when the Protocol Field's value is "FTP".
| | ...				| 
| | [Tags]			| manual
| | Fill out the Following Fields of the FTP Integration Point Step 2 form | Protocol=SFTP
| | Fill out the Following Fields of the FTP Integration Point Step 2 form | Protocol=FTP

| | Run the following manual steps:
| | ... | Expected Results:
| | ... | Verify that the Port field has the following value: 21


| The Port Field's default value is 22 for SFTP
| | [Documentation]	| Verify that the The Port Field's default value is 22 when the Protocol Field's value is "SFTP".
| | ...				| 
| | [Tags]			| manual
| | Fill out the Following Fields of the FTP Integration Point Step 2 form | Protocol=SFTP

| | Run the following manual steps:
| | ... | Expected Results:
| | ... | Verify that the Port field has the following value: 22


| The CSV Filepath has the correct placeholder Text
| | [Documentation]	| Verify that the CSV Filepath field has the correct placeholder Text.
| | ...				| 
| | [Tags]			| manual	| automateable
| | Run the following manual steps:
| | ... | Expected Results:
| | ... | Verify that the CSV Filepath field has the following placeholder text: e.g. /export/nightlyexport/**yyyy**-**MM**-**dd**_HRIS_export	| # ignore the '\'s. 


*** Keywords *** 

| Go to Step 2 of the Create Integration Point Process
| | Open Create Integration Point
| | Fill out the Following Fields of the Integration Point Step 1 form | Step 2 Testing	| FTP (CSV File) | Custodian | No
| | Proceed to the Next Step of the Integration Point wizard


*** Settings ***
| Library   | Collections
| Library	| ${KEYWORD_DIR}/ManualKeywords.py
| Library	| ${KEYWORD_DIR}/kWebDriver.py
| Resource	| ${KEYWORD_DIR}/LegalHold/Legal_Hold_Keywords_API.txt
| Resource	| ${LEGAL_HOLD_KEYWORD_DIR}/FormKeywords.txt
| Resource	| ${LEGAL_HOLD_KEYWORD_DIR}/MiscLegalHoldKeywords.txt
| Resource	| ${LEGAL_HOLD_KEYWORD_DIR}/NavigationKeywords.txt
| Resource  | ${LDAP_KEYWORD_DIR}/GenericKeywords.txt
| Resource  | ${LDAP_KEYWORD_DIR}/StepOneKeywords.txt
| Resource  | ${LDAP_KEYWORD_DIR}/StepTwoKeywords.txt