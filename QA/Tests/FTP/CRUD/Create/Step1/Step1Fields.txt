
*** Settings ***
| Documentation		| Verify that the Set Intergration Details step of Integration Points shows the correct fields and data when using FTP.
| Metadata			| Authors	| Daniel Oliver	| William Sehy
| Force Tags		| in-progress	| team.game_of_holds	| feature.integration_points
| Suite Setup		| Open and Log in to Method
| Test Setup		| Open Create Integration Point
| Test Teardown		| Capture screenshot if test fails
| Suite Teardown	| Close all browsers


*** Variables ***

| ${WorkspaceName}				| LDAP Sync
| ${Destination RDO Drop Down}	| s2id_destinationRdo


*** Test Cases ***

| The Destination RDO dropdown has the correct values for Admins
| | [Documentation]	| Verify that the Destination RDO Dropdown has the correct options when you are a user with Admin permissions.
| | ...				| The expected values are Select..., followed by an alphabetized list of every non-System object type
| | ...				| 
#| | [Tags]			| untested
| | Fill out the Following Fields of the Integration Point Step 1 form	| SourceProvider=FTP (CSV File)
| | @{ExpectedFields}=	| Get a List of All Non-System Object Types in the Workspace	| # Already alphabetized
| | Click	| ${Destination RDO Drop Down}
| | Verify that the currently opened select2 Dropdown has the following choices in order	| Select...	| @{ExpectedFields}


| The Destination RDO dropdown hides Object Types the User does not have Add Permissions for
| | [Documentation]	| Verify that the Destination RDO Dropdown has the correct options (i.e. you are a user without permission to some RDOs).
| | ...				| 
| | [Tags]			| manual	| unautomateable
| | Run the following manual steps:
| | ... | Notes:
| | ... | - The Destination RDO only shows values that you have Add permissions for.
| | ... | - The System RDOs are never shown (See "Get a List of All Non-System Object Types in the Workspace" for a list of the System RDOs). 
| | ... |
| | ... | Steps:
| | ... | 1. Go to the Tab: Integration Points
| | ... | 2. Click: New Integration Point
| | ... | 3. Select Source Provider: FTP (CSV File)
| | ... | 4. Click: Destination RDO Dropdown
| | ... | 
| | ... | Expected Results:
| | ... | Verify that the RDOs that you do not have permission for are not visible.


*** Keywords *** 

| Get a List of all Source Providers in the current Workspace
| | [Documentation]	| Returns the Names of every Source Provider in the workspace in an alphabetically sorted list.
| | ${2DGrid}=	| Query workspace database	| 
| | ... | SELECT Name
| | ... | FROM EDDSDBO.SourceProvider
| | ... | ORDER BY Name
| | ${1DGrid}=			| Flatten		| ${2DGrid}	| # Converts from 2D grid to 1D grid
| | @{SourceProviders}=	| Create List	| @{1DGrid}	| # Converts from 1D grid to List
| | [Return]		| @{SourceProviders}

| Verify the sections are ordered correctly
| | [Documentation]	| A keyword that compares the actual section headings to the expected section headings
| | [ARGUMENTS]		| @{ExpectedSections}
| | @{ActualSections}=	| Get Element Text	| css=div.card > span.label	| False
| | Lists should be Equal	| ${ActualSections}	| ${ExpectedSections}


*** Settings ***
| Library	| ${KEYWORD_DIR}/ManualKeywords.py
| Library	| ${KEYWORD_DIR}/kWebDriver.py
| Resource	| ${LEGAL_HOLD_KEYWORD_DIR}/MiscMethodKeywords.txt
| Resource	| ${LEGAL_HOLD_KEYWORD_DIR}/NavigationKeywords.txt
| Resource	| ${LDAP_KEYWORD_DIR}/DatabaseKeywords.txt
| Resource	| ${LDAP_KEYWORD_DIR}/IntegrationPointKeywords.txt
