
*** Settings ***
| Documentation	| Verify that Uninstalling a Source Provider Application deletes both the associate Integration Point and its Scheduled Job.
| Metadata		| Authors	| Daniel Oliver	| William Sehy
| Force Tags	| in-progress | team.method


*** Variables ***

| ${WorkspaceName}		| LDAP Sync
| ${SourceApplication}	| Json Example
| ${IntegrationPoint1}	| JSON IP
| ${IntegrationPoint2}	| LDAP IP


*** Test Cases ***

| Uninstalling a RIP Source Provider Application deletes the Integration Point using that Source Provider
| | [Documentation] | Verify that uninstalling a Source Provider application that is used by an Integration Point deletes that Integration Point.
| | ...				| [id] 
| | [Tags]          | manual  | required
| | Run the following manual steps:
| | ... | Notes:
| | ... | 1. ${SourceApplication}'s .rap file can be found at the following location \\chiprodfs01\Testing\Testing Documents\Relativity\Method Functional Testing\Method Functional Testing 3.0\JSON
| | ... | 2. ${SourceApplication} Integration Points use the two .json files in the above location
| | ... | 3. When creating a ${SourceApplication} Integration Point the locations of the two .json files on Step 2 should be relative to the server
| | ... |
| | ... | Preconditions:
| | ... | 1. ${SourceApplication} is installed 
| | ... | 2. ${IntegrationPoint1} uses the Source Provider ${SourceApplication} 
| | ... | 3. ${IntegrationPoint1} has a Scheduled enabled for a future job
| | ... | 4. ${IntegrationPoint2} uses the Source Provider LDAP 
| | ... |
| | ... | Steps:
| | ... | 1. View the application ${SourceApplication} 
| | ... | 2. Uninstall the application 
| | ... | 3. Go to the tab | Integration Points
| | ... | 4. Filter for ${IntegrationPoint1}
| | ... |
| | ... | Expected Results:
| | ... | Verify that the Integration Point ${IntegrationPoint1} has been deleted


| Uninstalling a RIP Source Provider Application deletes the Integration Point's scheduled job
| | [Documentation] | Verify that uninstalling a Source Provider application that is used by an Integration Point also deletes the Integration Point's scheduled job.
| | ...				| [id] 
| | [Tags]          | manual 
| | [Setup]			| Require Test Case | Uninstalling a RIP Source Provider Application deletes the Integration Point using that Source Provider
| | Run the following manual steps:
| | ... | Steps:
| | ... | 1. Open SQL Server Manager for your environment 
| | ... | 2. Open the file \\chiprodfs01\Testing\Testing Documents\Relativity\Method Functional Testing\Method Functional Testing 3.0\Integration Point Scheduled Jobs Query.sql
| | ... | 3. Replace <WorkspaceID> with your Workspace's ID
| | ... | 4. Execute the Query
| | ... |
| | ... | Expected Results:
| | ... | Verify that the Scheduled Job was removed for the deleted Integration Point


| Uninstalling a RIP Source Provider Application does not delete all Integration Points
| | [Documentation] | Verify that uninstalling a Source Provider application that is used by an Integration Point does not delete the Integration Points that use other Source Providers.
| | ...				| [id] 
| | [Tags]          | manual 
| | [Setup]			| Require Test Case | Uninstalling a RIP Source Provider Application deletes the Integration Point using that Source Provider
| | Run the following manual steps:
| | ... | Steps:
| | ... | 1. Go to the tab	| Integration Points
| | ... | 2. Filter for ${IntegrationPoint2}
| | ... |
| | ... | Expected Results:
| | ... | Verify that the Integration Point ${IntegrationPoint2} is still present


*** Settings ***
| Library	| ${KEYWORD_DIR}/ManualKeywords.py
| Library	| ${KEYWORD_DIR}/kWebDriver.py