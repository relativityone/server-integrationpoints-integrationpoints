
*** Settings ***
| Documentation 	| Verify that the fields of Step 2 on the Create Integration Point wizard have the correct validation.
| Metadata		    | Authors	| Daniel Oliver	| William Sehy
| Force Tags		| in-progress	| team.method
| Suite Setup		| Open and Log in to Method
| Test Setup		| Go to Step 2 of the Create Integration Point Process
| Test Teardown 	| Run Keyword if Test Failed	| Capture Page Screenshot
| Suite Teardown	| Close All Browsers


*** Variables ***

| ${WorkspaceName}			| LDAP Sync
| ${Connection Path Field}	| connectionPath
| ${Authentication Field}	| authentication
| ${ConnectionPath}			| testing.corp
| ${ObjectFilterString}		| (objectClass=*)
| ${Authentication}			| FastBind
| ${ConnectionUsername}		| testing\\administrator
| ${ConnectionPassword}		| P@ssw0rd@1


*** Test Cases ***

| The Connection Path field display an error message when empty
| | [Documentation]	| Verify that leaving the Connection Path field blank displays a warning message after clicking Next.
| | [Tags]			| required	| automated
| | Fill out the Following Fields of the Integration Point Step 2 form	| ObjectFilterString=${ObjectFilterString}	| Authentication=${Authentication}	| Username=${ConnectionUsername}	| Password=${ConnectionPassword}	| ImportNestedItems=Yes
| | Click	| id=next
| | Verify the following Integration Point Field has the following Error	| ${Connection Path Field}	| This field is required.


| Proceeding Post-Integration Name Validation
| | [Documentation]	| Verify that you can proceed to Step 3 after the Connection Path validation message has been shown.
| | [Tags]			| automated
| | [Setup] 		| Require Test Case	| The Connection Path field display an error message when empty
| | Fill out the Following Fields of the Integration Point Step 2 form	| ConnectionPath=${ConnectionPath}
| | Proceed to the Next Step of the Integration Point wizard
| | Wait Until Keyword Succeeds	| 30s	| 2s	| Verify that you are on the following Step of the Create Integration Point Process	| Map Fields


| The Authentication field displays an error message when empty
| | [Documentation]	| Verify that leaving the Authentication field as Select... displays a warning message after clicking Next.
| | [Tags]			| required	| automated
| | Fill out the Following Fields of the Integration Point Step 2 form	| ConnectionPath=${ConnectionPath}	| ObjectFilterString=${ObjectFilterString}	| Username=${ConnectionUsername}	| Password=${ConnectionPassword}	| ImportNestedItems=Yes
| | Click	| id=next
| | Verify the following Integration Point Field has the following Error	| ${Authentication Field}	| This field is required.


| Proceeding Post-Authentication Validation
| | [Documentation]	| Verify that you can proceed to Step 3 after the Authentication validation message has been shown.
| | [Tags]			| automated
| | [Setup] 		| Require Test Case	| The Authentication field displays an error message when empty
| | Fill out the Following Fields of the Integration Point Step 2 form	| Authentication=${Authentication}
| | Proceed to the Next Step of the Integration Point wizard
| | Wait Until Keyword Succeeds	| 30s	| 2s	| Verify that you are on the following Step of the Create Integration Point Process	| Map Fields


| An Invalid Connection will trigger a page level error
| | [Documentation]	| Verify that attempting to proceed with Connection Details that cannot form an actual connection causes a page level error.
| | [Tags]			| required	| automated
| | Fill out the Following Fields of the Integration Point Step 2 form	| ConnectionPath=ConnectionPath	| ObjectFilterString=ObjectFilterString	| Authentication=Anonymous	| Username=Username	| Password=Password	| ImportNestedItems=No
| | Click	| id=next
| | Wait Until Keyword Succeeds	| 30s	| 2s	| Verify the current Method Page Error has the following Text	| Unable to connect to source using the specified settings.


| Proceeding Post-Invalid Connection
| | [Documentation]	| Verify that you can proceed to Step 3 after the Invalid Connection Page Error has been shown.
| | [Tags]			| automated
| | [Setup] 		| Require Test Case	| An Invalid Connection will trigger a page level error
| | Fill out the Following Fields of the Integration Point Step 2 form	| ConnectionPath=${ConnectionPath}	| ObjectFilterString=${ObjectFilterString}	| Authentication=${Authentication}	| Username=${ConnectionUsername}	| Password=${ConnectionPassword}	| ImportNestedItems=Yes
| | Proceed to the Next Step of the Integration Point wizard
| | Wait Until Keyword Succeeds	| 30s	| 2s	| Verify that you are on the following Step of the Create Integration Point Process	| Map Fields


*** Keywords *** 

| Go to Step 2 of the Create Integration Point Process
| | Open Create Integration Point
| | Fill out the Following Fields of the Integration Point Step 1 form | Step 2 Validation Testing | Append/Overlay | LDAP | Custodian | No
| | Proceed to the Next Step of the Integration Point wizard


*** Settings ***
| Library	| ${KEYWORD_DIR}/kWebDriver.py
| Resource	| ${METHOD_KEYWORD_DIR}/MiscMethodKeywords.txt
| Resource	| ${METHOD_KEYWORD_DIR}/NavigationKeywords.txt
| Resource  | C:/SourceCode/LDAPSync/QA/Keywords/IntegrationPointKeywords.txt