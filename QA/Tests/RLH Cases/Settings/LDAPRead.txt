
*** Settings ***
| Documentation		| Testing the LDAP tab in detail mode.
| Metadata	     	| Authors	| William Sehy
| Force Tags		| in-progress	| team.method
| Suite Setup		| Open and Log in to Method
#| Test Setup		| NONE
| Test Teardown		| Run Keyword If Test Failed	| Capture Page Screenshot
| Suite Teardown	| Close All Browsers


*** Variables ***

| ${WorkspaceName}	| Relativity Legal Hold

 
*** Test Cases ***

| The LDAP Tab's Detail Fields are sorted correctly
| | [Documentation]	| Verify that the LDAP tab's Detail Fields are sorted correctly in read mode.
| | [Tags]		| automated
| | Go to the Method Tab	| Settings
| | Click Section Tab	| LDAP

| | Verify that the Detail Fields are in the Following Order	| 
| | ... | LDAP Domain			| 
| | ... | LDAP Username			| 
| | ... | LDAP Password			| 
| | ... | Overwrite Fields on Import


| The LDAP Tab's Scheduler Fields are sorted correctly
| | [Documentation]	| Verify that the LDAP tab's Scheduler Fields are sorted correctly in read mode.
| | [Tags]		| automated
| | Go to the Method Tab	| Settings
| | Click Section Tab	| LDAP

| | Verify that the Scheduler Fields are in the Following Order	| 
| | ... | Scheduling Enabled	| 
| | ... | Interval		| 
| | ... | Start Date


| The LDAP Tab's Status Fields are sorted correctly
| | [Documentation]	| Verify that the LDAP tab's Status Fields are sorted correctly in read mode.
| | [Tags]		| automated
| | Go to the Method Tab	| Settings
| | Click Section Tab	| LDAP

| | Verify that the Status Fields are in the Following Order	| 
| | ... | Last Job Start Date	| 
| | ... | Last Job End Date	|
| | ... | Last Job Status


| The LDAP Password Field's value is obscured
| | [Documentation]	| Verify that the LDAP Password Field's value is obscured by replacing the values with eight '*'s.
| | [Tags]		| automated
| | Go to the Method Tab	| Settings
| | Click Section Tab	| LDAP
| | Element Text Should Be	| id=ldapPassword	| ********


*** Keywords ***

| Verify that the Detail Fields are in the Following Order
| | [ARGUMENTS] 	| @{DetailFields}
| | ${RowNumber}=	| Set Variable	| 1
| | :FOR	| ${FieldText}	| IN	| @{DetailFields}
| | | Page Should Contain Element	| id=ldapDetailRow${RowNumber}	| The Row ${RowNumber} was not visible.
| | | Element Text Should Be	| xpath=//div[@id='ldapDetailRow${RowNumber}']/descendant::div[@class='title']	| ${FieldText}
| | | ${RowNumber}=	| Evaluate	| ${RowNumber} + 1
| | Page Should Not Contain Element	| id=ldapDetailRow${RowNumber}	| There were at least ${RowNumber} rows in the Detail section, but fewer rows were expected.

| Verify that the Scheduler Fields are in the Following Order
| | [ARGUMENTS] 	| @{SchedulerFields}
| | ${RowNumber}=	| Set Variable	| 1
| | :FOR	| ${FieldText}	| IN	| @{SchedulerFields}
| | | Element Text Should Be	| xpath=//div[@id='ldapSchedulerRow${RowNumber}']/descendant::div[@class='title']	| ${FieldText}
| | | ${RowNumber}=	| Evaluate	| ${RowNumber} + 1
| | Page Should Not Contain Element	| id=ldapSchedulerRow${RowNumber}	| There were at least ${RowNumber} rows in the Scheduler section, but fewer rows were expected.

| Verify that the Status Fields are in the Following Order
| | [ARGUMENTS] 	| @{StatusFields}
| | ${RowNumber}=	| Set Variable	| 1
| | :FOR	| ${FieldText}	| IN	| @{StatusFields}
| | | Element Text Should Be	| xpath=//div[@id='ldapStatusRow${RowNumber}']/descendant::div[@class='title']	| ${FieldText}
| | | ${RowNumber}=	| Evaluate	| ${RowNumber} + 1
| | Page Should Not Contain Element	| id=ldapStatusRow${RowNumber}	| There were at least ${RowNumber} rows in the Status section, but fewer rows were expected.


*** Settings ***
| Library	| ${KEYWORD_DIR}/kWebDriver.py
| Resource	| ${METHOD_KEYWORD_DIR}/NavigationKeywords.txt