using Relativity.Sync.Configuration;
using IConfiguration = Relativity.Sync.Storage.IConfiguration;

namespace Relativity.Sync.Transfer
{
    internal class AntiMalwareConfiguration : IAntiMalwareConfiguration
    {
        private readonly IConfiguration _cache;

        public AntiMalwareConfiguration(IConfiguration cache)
        {
            _cache = cache;
        }

        public bool IsPhysicalFileCopyMode =>
            _cache.GetFieldValue(x => x.NativesBehavior) == ImportNativeFileCopyMode.CopyFiles ||
            _cache.GetFieldValue(x => x.ImageFileCopyMode) == ImportImageFileCopyMode.CopyFiles;
    }
}
