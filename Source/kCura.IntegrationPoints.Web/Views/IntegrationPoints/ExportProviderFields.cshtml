<script id="exportProviderFieldsStep" type="text/html">
	<div class="card">
		<div class="label">Source Detail</div>
		<div class="field-row">
			<div class="field-label required">Source:</div>
			<div class="field-value">
				<select id="savedSearchSelector" data-bind="options: savedSearches, optionsText: 'displayName', optionsValue: 'value', optionsCaption: 'Select...', value: savedSearch, disable: HasBeenRun(), select2searchable: {}"></select>
				@*<button data-bind="click: openSavedSearchPicker, disable: HasBeenRun(), visible: false" class="actionButtonSmall">...</button>*@ 
				@*TODO: review and fix picker's implementation*@				
			</div>
		</div>
		<div class="field-row">
			<div class="field-label required">Start Export at Record:</div>
			<div class="field-value">
				<input id="start-export-at-record" type="number" min="1" data-bind="value: startExportAtRecord, disable: HasBeenRun()" />
			</div>
		</div>
	</div>
	<div class="card" data-bind="with: fields">
		<div class="label">Columns To Export</div>
		<div data-bind="validationMessage: mappedFields" class="icon-error legal-hold field-validation-error"></div>
		<div class="table" id="selectFields">
			<div class="cell">				
				<div class="field-label" style="padding: 5px; text-align: left;">Source Fields:</div>
				<select id="available-fields" class="list-box" name="available-field" data-bind="options: availableFields, selectedOptions: selectedAvailableFields, optionsText: 'displayName', doubleClick: addField, disable: $parent.HasBeenRun" multiple="multiple"></select>
			</div>
			<div class="cell selection map-move">
				<div data-bind="visible: !$parent.HasBeenRun()">
					<a href="#" id="add-all-fields" class="icon-move-last" data-bind="click: addAllFields"></a>
					<a href="#" id="add-field" class="icon-move-next" data-bind="click: addField"></a>
					<a href="#" id="remove-field" class="icon-move-previous" data-bind="click: removeField"></a>
					<a href="#" id="remove-all-fields" class="icon-move-first" data-bind="click: removeAllFields"></a>
				</div>
			</div>
			<div class="cell">
				<div class="field-label" style="padding: 5px; text-align: left; border-left: 3px solid #f59d1f;">Selected Fields:</div>
				<select class="list-box" id="selected-fields" data-bind="options: mappedFields, selectedOptions: selectedMappedFields, optionsText: 'displayName', doubleClick: removeField, disable: $parent.HasBeenRun" multiple="multiple"></select>
			</div>
			<div class="cell selection map-move">
				<div data-bind="visible: !$parent.HasBeenRun()">
					<a href="#" id="move-field-top" class="icon-move-to-top" data-bind="click: moveFieldTop"></a>
					<a href="#" id="move-field-up" class="icon-move-up" data-bind="click: moveFieldUp"></a>
					<a href="#" id="move-field-down" class="icon-move-down" data-bind="click: moveFieldDown"></a>
					<a href="#" id="move-field-bottom" class="icon-move-to-bottom" data-bind="click: moveFieldBottom"></a>
				</div>
			</div>
		</div>
	</div>
</script>